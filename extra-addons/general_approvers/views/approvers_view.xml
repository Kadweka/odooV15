<?xml version="1.0" encoding="utf-8"?>
<odoo>
      <record id="hr_leaves_double_validation" model="ir.ui.view">
        <field name="name">hr.leave.double.validation</field>
        <field name="model">hr.leave</field>
        <field name="inherit_id" ref="hr_holidays.hr_leave_view_form"/>
        <field name="arch" type="xml">
            
             <xpath expr="//form/header/button[@name='action_confirm']" position="before">
              <button name="need_second_approver" string="Accept Time Off" type="object" 
              states="first" class="oe_highlight" 
              groups="general_approvers.first_level_approver" />
             </xpath>

               <xpath expr="//form/header/button[@name='action_confirm']" position="replace">
              <button name="need_third_approver" string="Validate Time Off" type="object" states="draft"
               class="oe_highlight" groups="general_approvers.second_level_approver"/>
             </xpath>
              <xpath expr="//form/header/button[@name='action_refuse']" position="replace">
              <button name="notifyme" string="Reject" type="object" states="draft,first,confirm"
               class="oe_highlight" groups="general_approvers.third_level_approver,general_approvers.first_level_approver,general_approvers.second_level_approver"/>
             </xpath>
               <xpath expr="//form/header/button[@name='action_approve']" position="replace">
              <button name="need_owner" string="Approve Time Off" type="object" states="confirm" class="oe_highlight" 
              groups="general_approvers.third_level_approver"
              />
             </xpath>
        </field>
    </record>										
</odoo>
